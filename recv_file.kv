#:kivy 1.9.0

<RecvFile@GridLayout>:
    cols: 1
    row: 8
    AndCatLabel:
        text: 'Receive File'
    AndCatIPLabel:
        text: 'Current IP: {0}'.format(self.get_own_ip())
    AndCatPortInput:
        id: _recv_port
        multiline: False
        text: 'Port number. A value between 1024 and 65535'
    RecvFileChooser:
        dirselect: True
        id: _recv_file_chooser
        path: '/storage/emulated/0'
        filters: [lambda folder, fname: False]
        filters_dirs: False
        on_submit: self.recv_file(_recv_port.text, _recv_filename.text)
    AndCatTextInput:
        id: _recv_filename
        multiline: False
        text: 'Save as...'
    AndCatBtn:
        text: 'Receive'
        on_press: _recv_file_chooser.recv_file(_recv_port.text, _recv_filename.text)
    AndCatBtn:
        text: 'Main'
        on_press: root.parent.manager.current = 'main'
